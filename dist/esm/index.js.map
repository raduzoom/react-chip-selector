{"version":3,"file":"index.js","sources":["../../src/components/ReactChipSelector.js"],"sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\n\n/**\n * @typedef {Object} ChipSelectorItem\n * @property {string} htmlContent - html content\n * @property {string} value - value\n * @property {string} currentStatus - current status\n */\n\n\n/**\n *\n * @param {Object} props\n * @property {ChipSelectorItem[]} suggestedOptions - html content\n * @property {Function} onSelectedOptionsChange - callback function to update selected options in parent component\n * @returns {JSX.Element}\n * @constructor\n */\nimport {dzsChipSelectorWebComponent_init} from \"chip-selector/dist/dzsChipSelectorWebComponents\";\ndzsChipSelectorWebComponent_init();\nexport function ReactChipSelector(props) {\n\n  const self = this;\n  const [selectedOptions, setSelectedOptions] = useState([]);\n\n\n  /** @var {ChipSelectorItem[]} */\n  let suggestedOptions =   []\n  let chipSelectorOptions =   {\n\n    viewSkin: 'default'\n  }\n\n  if(props.chipSelectorOptions){\n    chipSelectorOptions = Object.assign(chipSelectorOptions, props.chipSelectorOptions);\n  }\n\n\n  if(props.suggestedOptions){\n    suggestedOptions = props.suggestedOptions;\n  }\n  const myRef = useRef(null);\n\n\n  /** @type {DzsChipSelector} */\n  let $myRef = null;\n  const options = [];\n  const addStyle = url => {\n    const style = document.createElement(\"link\");\n    style.href = url;\n    style.rel = \"stylesheet\";\n    style.async = true;\n\n    $myRef.wrapper.appendChild(style);\n  };\n\n\n  const onUpdate  = async (allOptions) => {\n    const selectedOptions = allOptions.filter((el)=>el.currentStatus==='checked');\n    setSelectedOptions(\n      selectedOptions\n    );\n\n    if(props.onSelectedOptionsChange){\n    props.onSelectedOptionsChange(selectedOptions); // calling the callback function to update selected options in parent component\n    }\n  }\n\n\n  useEffect(() => {\n    $myRef = myRef.current;\n    addStyle(`https://unpkg.com/chip-selector/dist/style/skins/skin-${chipSelectorOptions.viewSkin}.css`);\n    $myRef.onUpdate = onUpdate;\n\n\n\n    return function cleanup() {\n      console.log('clean up ONCE');\n    };\n\n\n  }, []);\n  const wrapperStyle = {\n    width: '100%',\n  }\n\n  return (\n    <div style={wrapperStyle}>\n      <dzs-chip-selector ref={myRef} data-persistentOptions={JSON.stringify(suggestedOptions)} data-chip-selector-options={JSON.stringify(chipSelectorOptions)}>\n        <link rel=\"stylesheet\" data-lazy-href=\"dzs-chip-selector/style/skins/skin-default.css\"/>\n      </dzs-chip-selector>\n    </div>\n  );\n}"],"names":["dzsChipSelectorWebComponent_init","ReactChipSelector","props","_useState","useState","_useState2","_slicedToArray","selectedOptions","setSelectedOptions","suggestedOptions","chipSelectorOptions","viewSkin","Object","assign","myRef","useRef","$myRef","addStyle","url","style","document","createElement","href","rel","async","wrapper","appendChild","onUpdate","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","allOptions","wrap","_callee$","_context","prev","next","filter","el","currentStatus","onSelectedOptionsChange","stop","_x","apply","arguments","useEffect","current","concat","cleanup","console","log","wrapperStyle","width","React","ref","JSON","stringify"],"mappings":"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"}